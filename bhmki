@echo off
set DIR=%USERPROFILE%\Downloads\insurance_doc_automation
set VENV=%DIR%\venv\Scripts\activate

REM Check that the venv exists
if not exist "%VENV%" (
    echo Virtual environment not found at %VENV%
    pause
    exit /b
)

REM Start each agent in a new terminal window
start cmd /k "cd /d %DIR% && call venv\Scripts\activate && uvicorn agents.auth_agent:app --reload --port 8001"
start cmd /k "cd /d %DIR% && call venv\Scripts\activate && uvicorn agents.navigator_agent:app --reload --port 8009"
start cmd /k "cd /d %DIR% && call venv\Scripts\activate && uvicorn agents.intake_agent:app --reload --port 8004"
start cmd /k "cd /d %DIR% && call venv\Scripts\activate && uvicorn agents.preprocess_agent:app --reload --port 8005"
start cmd /k "cd /d %DIR% && call venv\Scripts\activate && uvicorn agents.extraction_agent:app --reload --port 8007"
start cmd /k "cd /d %DIR% && call venv\Scripts\activate && uvicorn agents.validation_agent:app --reload --port 8002"
start cmd /k "cd /d %DIR% && call venv\Scripts\activate && uvicorn agents.sync_agent:app --reload --port 8003"
start cmd /k "cd /d %DIR% && call venv\Scripts\activate && uvicorn agents.feedback_agent:app --reload --port 8006"
start cmd /k "cd /d %DIR% && call venv\Scripts\activate && uvicorn agents.notify_agent:app --reload --port 8008"
